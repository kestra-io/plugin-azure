id: adls-listen
namespace: io.kestra.tests

triggers:
  - id: watch
    type: io.kestra.plugin.azure.storage.adls.Trigger
    interval: PT10S
    endpoint: "{{ globals.azure.adls['endpoint'] }}"
    fileSystem: "{{ globals.azure.adls['file-system'] }}"
    connectionString: "{{ globals.azure.blobs['connection-string'] }}"
    directoryName: "adls/azure/trigger/adls-listen"

tasks:
  - id: end
    type: io.kestra.plugin.core.debug.Return
    format: "{{task.id}} > {{taskrun.startDate}}"
